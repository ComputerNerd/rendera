\documentclass{article}

\title{Automatic Color Restoration}

\author{Joe Davisson} %% \texttt{joe_7@sbcglobal.net}}

\usepackage{amsmath}

\begin{document}
\maketitle

Some algorithms are presented for automatically correcting the
color and contrast in faded images. Because often the exact nature or cause
of the discoloration is unknown, the problems of color cast, contrast, and
saturation loss are considered individually.

\section{Color Cast Removal}
Perhaps the simplest way to correct color cast is to simply average each
pixel by the inverted average of all the pixels:

\[ C_{new} = \frac{C_{old} + \left(255 - C_{average}\right) }{2} \]

While this serves to reverse the the color cast, the image must be manually
adjusted to restore contrast and saturation. Therefore we aim to do these
adjustments automatically.

\section{Contrast Correction}
Color and constrast correction may be combined together into a single
adjustment factor. This is accomplished with the following formula:

\[ C_{adjust} = \frac{\left(\frac{256} {256 - C_{average}}\right)}
                     {\sqrt{\frac{256} { C_{average} + 1}}} \]

This creates an exponent which is applied to each pixel in the original image. Employing a square root in the denominator prevents over-correction in the restored image. The adjustment factors are applied as follows:

\[ C_{new} = 255 * \left(\frac{C_{old}}{255}\right) ^ {C_{adjust}} \]

\subsection{Additional Contrast Improvement}
If the contrast needs further improving, a modified version of histogram
equalization may be used which preserves the overall color cast of the image.
This enhances contrast without corrupting the colors. The following formula
uses the average of all the pixels in the image to preserve the color balance: 

\[ C_{new} = \frac{C_{popularity} * \left(\frac{255}{pixel count}\right) * C_{average}
                   + C_{old} * \left(255 - C_{average}\right)}{255} \]

\section{Saturation Equalization}
We make the assumption that the most saturated color in the original faded
image should be pushed to the maximum value, and other saturation levels
pushed in relation to that. Histogram equalization is capable of doing this 
automatically, and works well for many images.

Equalization is performed on saturation information only, while
preserving the luminance of the original image. The latter is important to
ensure the final image doesn't become unrealistically saturated in the wrong areas.

\section{Examples}

\section{Conclusion}





\end{document}

